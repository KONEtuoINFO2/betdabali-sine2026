<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>betdabali-sine2025 - E-commerce</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        /* ... (gardez tout votre CSS existant ici) ... */
    </style>
</head>
<body>
    <!-- ... (gardez tout votre HTML existant ici) ... -->
    <!-- Footer -->
    <footer>
        &copy; 2025 betdabali-sine2025. Tous droits réservés.
    </footer>
    <script>
        // Navbar responsive
        const menuToggle = document.querySelector('.menu-toggle');
        const navUl = document.querySelector('nav ul');
        menuToggle && menuToggle.addEventListener('click', () => {
            navUl.classList.toggle('active');
        });
        function handleResize() {
            if(window.innerWidth <= 700) {
                menuToggle && (menuToggle.style.display = 'block');
                navUl && navUl.classList.remove('active');
            } else {
                menuToggle && (menuToggle.style.display = 'none');
                navUl && navUl.classList.remove('active');
            }
        }
        window.addEventListener('resize', handleResize);
        handleResize();

        // Plats navbar switch
        const platNavBtns = document.querySelectorAll('.plat-navbar button');
        const platsSections = {
            petitdej: document.getElementById('plats-petitdej'),
            dege: document.getElementById('plats-dege'),
            diner: document.getElementById('plats-diner'),
            gouter: document.getElementById('plats-gouter'),
            colation: document.getElementById('plats-colation')
        };
        function showPlatSection(type) {
            for(let key in platsSections) {
                platsSections[key].style.display = (key === type) ? (type === 'petitdej' ? 'grid' : 'flex') : 'none';
            }
            platNavBtns.forEach(btn => btn.classList.toggle('active', btn.dataset.type === type));
        }
        platNavBtns.forEach(btn => {
            btn.addEventListener('click', () => showPlatSection(btn.dataset.type));
        });
        // Affichage automatique selon l'heure
        function autoPlatByTime() {
            const now = new Date();
            const h = now.getHours(), m = now.getMinutes();
            if(h >= 4 && (h < 10 || (h === 10 && m <= 30))) {
                showPlatSection('petitdej');
            } else if(h >= 10 && h < 15) {
                showPlatSection('dege');
            } else if(h >= 15 && h < 19) {
                showPlatSection('diner');
            } else if(h >= 19 && h < 22) {
                showPlatSection('gouter');
            } else {
                showPlatSection('colation');
            }
        }
        autoPlatByTime();

        // Panier
        let panier = [];
        function updatePanier() {
            const panierList = document.getElementById('panier-list');
            const panierTotal = document.getElementById('panier-total');
            panierList.innerHTML = '';
            let total = 0;
            panier.forEach(item => {
                total += item.prix * item.qte;
                const div = document.createElement('div');
                div.className = 'panier-item';
                div.innerHTML = `<span>${item.nom} (${item.type})</span>
                    <span>${item.prix} FCFA x ${item.qte}</span>`;
                panierList.appendChild(div);
            });
            panierTotal.textContent = `Total: ${total} FCFA`;
        }
        function addToPanier(nom, type, prix) {
            let found = panier.find(p => p.nom === nom && p.type === type);
            if(found) found.qte++;
            else panier.push({nom, type, prix, qte:1});
            updatePanier();
        }
        // Commander button + clic sur image
        document.querySelectorAll('.plat-card').forEach(card => {
            // Clic sur bouton Commander
            const btn = card.querySelector('.btn-commander');
            btn && btn.addEventListener('click', function(e) {
                e.stopPropagation();
                let isConnected = true;
                if(!isConnected) {
                    alert("Veuillez vous connecter pour commander.");
                    return;
                }
                const nom = card.querySelector('.plat-name').textContent;
                const prix = parseInt(card.querySelector('.plat-price').textContent.replace(/\D/g,''));
                const type = document.querySelector('.plat-navbar button.active').textContent;
                addToPanier(nom, type, prix);
            });
            // Clic sur image
            const img = card.querySelector('img');
            img && img.addEventListener('click', function() {
                let isConnected = true;
                if(!isConnected) {
                    alert("Veuillez vous connecter pour commander.");
                    return;
                }
                const nom = card.querySelector('.plat-name').textContent;
                const prix = parseInt(card.querySelector('.plat-price').textContent.replace(/\D/g,''));
                const type = document.querySelector('.plat-navbar button.active').textContent;
                addToPanier(nom, type, prix);
            });
        });
        // Passer à la caisse
        document.getElementById('btn-caisse').addEventListener('click', function() {
            if(panier.length === 0) {
                alert("Votre panier est vide.");
                return;
            }
            let paiement = prompt("Choisissez votre mode de paiement: orange, mtn, mov, wave");
            if(paiement) {
                alert("Commande validée! Vous recevrez un message WhatsApp.");
                window.open('https://wa.me/2250700000000?text=Nouvelle%20commande%20sur%20betdabali-sine2025', '_blank');
            }
        });
        // Scroll vers les sections
        document.querySelectorAll('.tops-section a').forEach(link => {
            link.addEventListener('click', function(e) {
                const href = link.getAttribute('href');
                if(href && href.startsWith('#')) {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if(target) target.scrollIntoView({behavior:'smooth'});
                }
            });
        });
        // Mobile menu bottom
        if(window.innerWidth <= 700) {
            document.querySelector('.mobile-bottom-menu').style.display = 'flex';
        }
    </script>
</body>
</html>